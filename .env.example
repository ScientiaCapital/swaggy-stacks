# Environment Configuration Example
# Copy to .env and set actual values
# NEVER commit .env to version control

# Database Configuration
POSTGRES_USER=your_db_user
POSTGRES_PASSWORD=your_db_password
POSTGRES_DB=swaggy_stacks_db
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
DATABASE_URL=postgresql://user:password@localhost:5432/swaggy_stacks_db

# Redis Configuration
REDIS_URL=redis://localhost:6379

# Trading API Keys (Paper Trading)
ALPACA_API_KEY=your_paper_api_key
ALPACA_SECRET_KEY=your_paper_secret_key
ALPACA_BASE_URL=https://paper-api.alpaca.markets

# ============================================
# AI Agent Infrastructure (24/7 Operations)
# ============================================

# Claude SDK (Primary Agent - Sonnet 4.5 for complex reasoning)
ANTHROPIC_API_KEY=your_anthropic_api_key

# OpenRouter (Multi-model access including Chinese LLMs)
OPENROUTER_API_KEY=your_openrouter_api_key
# Recommended models via OpenRouter:
# - deepseek/deepseek-chat (DeepSeek v3 - 671B MoE, $0.27/1M tokens)
# - qwen/qwen-2.5-72b-instruct (Qwen 2.5 - excellent reasoning)
# - anthropic/claude-sonnet-4.5 (fallback via OpenRouter)

# Cerebras (Ultra-fast inference for real-time trading decisions)
CEREBRAS_API_KEY=your_cerebras_api_key
# Recommended: llama3.3-70b at 2100 tokens/sec

# RunPod (24/7 Agent Hosting - PRIMARY Infrastructure)
RUNPOD_API_KEY=your_runpod_api_key
RUNPOD_ENDPOINT_ID=your_runpod_endpoint_id
# Hosts persistent agent team running continuously
# - Crypto trading: 24/7 operation
# - Equity prep: Post-market analysis and next-day planning
# - Learning: Continuous improvement from day's trades

# Agent Model Configuration
AGENT_PRIMARY_MODEL=claude-sonnet-4.5  # Main reasoning (Research, Strategy)
AGENT_FAST_MODEL=cerebras/llama-3.3-70b  # Real-time decisions (Execution)
AGENT_CHEAP_MODEL=deepseek/deepseek-chat  # Batch processing (Learning, Analysis)
AGENT_RISK_MODEL=claude-sonnet-4.5  # Risk validation (critical decisions)
AGENT_MAX_RETRIES=3
AGENT_TIMEOUT_SECONDS=30

# LangGraph Configuration
LANGGRAPH_CHECKPOINT_BACKEND=postgres  # State persistence across restarts
LANGGRAPH_MEMORY_BACKEND=postgres  # Long-term agent memory
LANGGRAPH_CHECKPOINT_INTERVAL=300  # Save state every 5 minutes

# LangGraph State Persistence (Database Tables)
LANGGRAPH_DB_URI=${DATABASE_URL}  # Reuse existing PostgreSQL connection
LANGGRAPH_CHECKPOINT_TABLE=agent_checkpoints  # Table for agent state checkpoints
LANGGRAPH_MEMORY_TABLE=agent_memory  # Table for long-term agent memory

# Agent Logging Configuration
AGENT_LOG_LEVEL=INFO  # Agent-specific log level (DEBUG, INFO, WARNING, ERROR)
AGENT_LOG_FILE=logs/agents.log  # Agent log file path

# 24/7 Operation Schedule
MARKET_HOURS_START=09:30  # ET - Equity market open
MARKET_HOURS_END=16:00  # ET - Equity market close
POST_MARKET_ANALYSIS_ENABLED=true  # Run learning after market close
PRE_MARKET_PREP_ENABLED=true  # Prepare strategies before market open
CRYPTO_TRADING_ENABLED=true  # 24/7 crypto trading
CRYPTO_EXCHANGES=coinbase,kraken,binance  # Crypto exchange support

# Agent Team Workflow Timing
RESEARCH_CYCLE_MINUTES=15  # How often Research Agent analyzes markets
POST_MARKET_LEARNING_START=16:30  # ET - Start daily learning cycle
PRE_MARKET_PREP_START=08:00  # ET - Morning strategy preparation
OVERNIGHT_MONITORING_ENABLED=true  # Monitor crypto and futures overnight

# JWT Configuration
SECRET_KEY=your-super-secret-jwt-key
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Email Alerts
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USERNAME=your_email@gmail.com
EMAIL_PASSWORD=your_app_password
ALERT_EMAIL_TO=alerts@yourcompany.com

# Private Trading Configuration (Keep Secret)
TRADING_MODE=development
ALPHA_THRESHOLD=0.025
POSITION_MODEL=kelly_criterion
RISK_MODEL=var_based
MAX_CONC=0.15
SHARPE_TARGET=2.5
MAX_DD=0.12
WIN_RATE_TARGET=0.65

# Private Model Configuration (Keep Secret)
PRIMARY_ALPHA_MODEL=alpha_model_v1
QUANT_MODEL=quant_model_v2
PATTERN_MODEL=pattern_model_v1
ALPHA_TEMP=0.2
QUANT_TEMP=0.15
PATTERN_SENS=0.85

# Model Endpoints (Private)
PRIMARY_ALPHA_ENDPOINT=localhost:11434
QUANT_ENDPOINT=localhost:11434
PATTERN_ENDPOINT=localhost:11434

# Performance Tracking (Sensitive)
BENCHMARK_MODELS=sp500,qqq,iwm
ALPHA_WINDOW=90
ALPHA_MAX_TOKENS=2048
ALPHA_CONTEXT=4096
PATTERN_LOOKBACK=200

# Development Settings
DEBUG=true
LOG_LEVEL=INFO
ENVIRONMENT=development

# ============================================
# Grafana Unified Alerting Configuration
# ============================================

# Alert Email Configuration (REQUIRED)
ALERT_EMAIL_TO=alerts@swaggy-stacks.com

# Slack Integration (OPTIONAL - for critical alerts)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# Discord Integration (OPTIONAL - for team notifications)
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR/WEBHOOK

# PagerDuty Integration (OPTIONAL - for on-call escalation)
PAGERDUTY_INTEGRATION_KEY=your_pagerduty_integration_key

# OpsGenie Integration (OPTIONAL - for incident management)
OPSGENIE_API_KEY=your_opsgenie_api_key

# Alert Webhook Configuration
ALERT_WEBHOOK_ENABLED=true
ALERT_WEBHOOK_URL=http://backend:8000/api/v1/alerts/webhook

# Alert Severity Thresholds (override defaults)
# System Health
ALERT_SYSTEM_UPTIME_MIN=300  # seconds
ALERT_DB_CONNECTIONS_MIN=2
ALERT_REDIS_LATENCY_MAX=100  # milliseconds
ALERT_API_LATENCY_MAX=5000  # milliseconds

# Trading Alerts
ALERT_PORTFOLIO_DROP_PCT=5  # percentage
ALERT_ORDER_FAILURE_RATE=10  # percentage
ALERT_STRATEGY_DRAWDOWN_PCT=5  # percentage

# Risk Management
ALERT_PORTFOLIO_EXPOSURE_PCT=80  # percentage of max
ALERT_POSITION_SIZE_PCT=15  # percentage of portfolio
ALERT_SECTOR_LIMIT_USD=200000  # dollars
ALERT_VAR_DAILY_USD=50000  # dollars
ALERT_BETA_EXTREME_HIGH=2.0
ALERT_VOLATILITY_THRESHOLD=0.30

# MCP Coordination
ALERT_MCP_SUCCESS_RATE=80  # percentage
ALERT_MCP_RESPONSE_TIME=5  # seconds
ALERT_MCP_QUEUE_DEPTH=50  # operations

# Alert Grouping & Timing
ALERT_GROUP_WAIT=30s  # wait before sending grouped alert
ALERT_GROUP_INTERVAL=5m  # interval between group updates
ALERT_REPEAT_INTERVAL_CRITICAL=5m
ALERT_REPEAT_INTERVAL_WARNING=15m
ALERT_REPEAT_INTERVAL_INFO=1h